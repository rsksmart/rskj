comment

// RSKIP544/EIP-3541: Verify that CREATE succeeds with empty code
// This test verifies that empty code is still allowed after RSKIP544.
// This is a control test to ensure the check only applies to non-empty code.
//
// Initcode: 60006000f3 (6 bytes)
//   6000    PUSH1 0x00 (size = 0 bytes)
//   6000    PUSH1 0x00 (offset = 0)
//   f3      RETURN (return memory[0:0] = empty)
//
// Expected: Transaction succeeds (empty code is allowed)

end

account_new acc1 10000000000

# Create transaction with initcode that returns empty code
transaction_build txCreateWithEmpty
    sender acc1
    receiverAddress 00
    value 0
    data 60006000f3
    gas 300000
    build

block_build b01
    parent g00
    gasLimit 6800000
    transactions txCreateWithEmpty
    build

block_connect b01

# Assert best block
assert_best b01
