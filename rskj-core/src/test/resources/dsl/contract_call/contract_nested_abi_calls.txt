
comment

// Contracts compiled using
// Truffle v5.1.14 (core: 5.1.14)
// Solidity v0.5.16 (solc-js)
// the contract to be deployed is RevertReason

// the contracts source code

// SPDX-License-Identifier: GPL-3.0

// Warning: Return value of low-level calls not used.

// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.5.0 <0.7.0;

contract RevertReason {
    uint a = 11;

    function buy(uint amount) public payable returns (uint result) {
        require(
            amount > 0,
            "Negative value."
        );
        a = amount;
        return a;
    }
}

contract ContractB  {

    address rr;
    uint a = 11;

    constructor(address _t) public {
        rr = _t;
    }

    function buy(uint amount) public returns (uint result) {
        rr.call(abi.encodeWithSignature("buy(uint256)", amount));
        a = amount;
        return a;
    }

}

contract ContractA  {

    address cb;
    uint a = 11;

    constructor(address _t) public {
        cb = _t;
    }

    function buy(uint amount) public returns (uint result) {
        cb.call(abi.encodeWithSignature("buy(uint256)", amount));
        a = amount;
        return a;
    }

}

end

account_new acc1 20000000

# Deploy RevertReason (address: 6252703f5ba322ec64d3ac45e56241b7d9e481ad)
transaction_build tx01
    sender acc1
    nonce 0
    receiverAddress 00
    value 0
    data 6080604052600b60005534801561001557600080fd5b5061011d806100256000396000f3fe608060405260043610601c5760003560e01c8063d96a094a146021575b600080fd5b604a60048036036020811015603557600080fd5b81019080803590602001909291905050506060565b6040518082815260200191505060405180910390f35b600080821160d6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600f8152602001807f4e656761746976652076616c75652e000000000000000000000000000000000081525060200191505060405180910390fd5b81600081905550600054905091905056fea26469706673582212209d6bb30c4cdfb29525a661c56652bb5676e62de7e1fa11da6baee0122871d73764736f6c63430006010033
    gas 1000000
    build

# Deploy ContractB (address: 56aa252dd82173789984fa164ee26ce2da9336ff)
# ByteCode: 6080604052600b60015534801561001557600080fd5b506040516102b73803806102b78339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061021e806100996000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063d96a094a14610030575b600080fd5b61005c6004803603602081101561004657600080fd5b8101908080359060200190929190505050610072565b6040518082815260200191505060405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1682604051602401808281526020019150506040516020818303038152906040527fd96a094a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040518082805190602001908083835b6020831061016d578051825260208201915060208101905060208303925061014a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146101cf576040519150601f19603f3d011682016040523d82523d6000602084013e6101d4565b606091505b50505081600181905550600154905091905056fea264697066735822122020ecc8df14a8b94f9ab73c0cdd1558fc3c9d92e7d0b6ce196cc7c2972250ee6c64736f6c63430006010033
# Address RevertReason: 0000000000000000000000006252703f5ba322ec64d3ac45e56241b7d9e481ad
# Data: 6080604052600b60015534801561001557600080fd5b506040516102b73803806102b78339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061021e806100996000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063d96a094a14610030575b600080fd5b61005c6004803603602081101561004657600080fd5b8101908080359060200190929190505050610072565b6040518082815260200191505060405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1682604051602401808281526020019150506040516020818303038152906040527fd96a094a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040518082805190602001908083835b6020831061016d578051825260208201915060208101905060208303925061014a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146101cf576040519150601f19603f3d011682016040523d82523d6000602084013e6101d4565b606091505b50505081600181905550600154905091905056fea264697066735822122020ecc8df14a8b94f9ab73c0cdd1558fc3c9d92e7d0b6ce196cc7c2972250ee6c64736f6c634300060100330000000000000000000000006252703f5ba322ec64d3ac45e56241b7d9e481ad
transaction_build tx02
    sender acc1
    nonce 1
    receiverAddress 00
    value 0
    data 6080604052600b60015534801561001557600080fd5b506040516102b73803806102b78339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061021e806100996000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063d96a094a14610030575b600080fd5b61005c6004803603602081101561004657600080fd5b8101908080359060200190929190505050610072565b6040518082815260200191505060405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1682604051602401808281526020019150506040516020818303038152906040527fd96a094a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040518082805190602001908083835b6020831061016d578051825260208201915060208101905060208303925061014a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146101cf576040519150601f19603f3d011682016040523d82523d6000602084013e6101d4565b606091505b50505081600181905550600154905091905056fea264697066735822122020ecc8df14a8b94f9ab73c0cdd1558fc3c9d92e7d0b6ce196cc7c2972250ee6c64736f6c634300060100330000000000000000000000006252703f5ba322ec64d3ac45e56241b7d9e481ad
    gas 1000000
    build

# Deploy ContractA (address: 27444fbce96cb2d27b94e116d1506d7739c05862)
# ByteCode: 6080604052600b60015534801561001557600080fd5b506040516102b73803806102b78339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061021e806100996000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063d96a094a14610030575b600080fd5b61005c6004803603602081101561004657600080fd5b8101908080359060200190929190505050610072565b6040518082815260200191505060405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1682604051602401808281526020019150506040516020818303038152906040527fd96a094a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040518082805190602001908083835b6020831061016d578051825260208201915060208101905060208303925061014a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146101cf576040519150601f19603f3d011682016040523d82523d6000602084013e6101d4565b606091505b50505081600181905550600154905091905056fea26469706673582212200990ca360d90787a3bd0042e6267b7476cf8decb859f92a92c6b6b109d316ade64736f6c63430006010033
# Address ContractB: 00000000000000000000000056aa252dd82173789984fa164ee26ce2da9336ff
# Data: 6080604052600b60015534801561001557600080fd5b506040516102b73803806102b78339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061021e806100996000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063d96a094a14610030575b600080fd5b61005c6004803603602081101561004657600080fd5b8101908080359060200190929190505050610072565b6040518082815260200191505060405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1682604051602401808281526020019150506040516020818303038152906040527fd96a094a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040518082805190602001908083835b6020831061016d578051825260208201915060208101905060208303925061014a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146101cf576040519150601f19603f3d011682016040523d82523d6000602084013e6101d4565b606091505b50505081600181905550600154905091905056fea26469706673582212200990ca360d90787a3bd0042e6267b7476cf8decb859f92a92c6b6b109d316ade64736f6c6343000601003300000000000000000000000056aa252dd82173789984fa164ee26ce2da9336ff
transaction_build tx03
    sender acc1
    nonce 2
    receiverAddress 00
    value 0
    data 6080604052600b60015534801561001557600080fd5b506040516102b73803806102b78339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061021e806100996000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063d96a094a14610030575b600080fd5b61005c6004803603602081101561004657600080fd5b8101908080359060200190929190505050610072565b6040518082815260200191505060405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1682604051602401808281526020019150506040516020818303038152906040527fd96a094a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040518082805190602001908083835b6020831061016d578051825260208201915060208101905060208303925061014a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146101cf576040519150601f19603f3d011682016040523d82523d6000602084013e6101d4565b606091505b50505081600181905550600154905091905056fea26469706673582212200990ca360d90787a3bd0042e6267b7476cf8decb859f92a92c6b6b109d316ade64736f6c6343000601003300000000000000000000000056aa252dd82173789984fa164ee26ce2da9336ff
    gas 1000000
    build

block_build b01
    parent g00
    gasLimit 10000000
    transactions tx01 tx02 tx03
    build

block_connect b01

# Assert best block
assert_best b01


# Call ContractA.buy(0)
transaction_build tx04
    sender acc1
    nonce 3
    receiverAddress 27444fbce96cb2d27b94e116d1506d7739c05862
    value 0
    data d96a094a0000000000000000000000000000000000000000000000000000000000000000
    gas 500000
    build

block_build b02
    parent b01
    transactions tx04
    gasLimit 10000000
    build

block_connect b02

# Assert best block
assert_best b02

# Call ContractA.buy(2)
transaction_build tx05
    sender acc1
    nonce 4
    receiverAddress 27444fbce96cb2d27b94e116d1506d7739c05862
    value 0
    data d96a094a0000000000000000000000000000000000000000000000000000000000000002
    gas 2000000
    build

block_build b03
    parent b02
    transactions tx05
    gasLimit 10000000
    build

block_connect b03

# Assert best block
assert_best b03
