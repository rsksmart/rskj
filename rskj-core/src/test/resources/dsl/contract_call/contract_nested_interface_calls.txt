
comment

// Contracts compiled using
// Truffle v5.1.14 (core: 5.1.14)
// Solidity v0.5.16 (solc-js)
// the contract to be deployed is RevertReason

// the contracts source code


pragma solidity >=0.5.0 <0.7.0;

contract RevertReason {
    uint public a = 11;

    function buy(uint amount) public payable returns (uint result) {
        require(
            amount > 0,
            "Negative value."
        );
        a = amount;
        return a;
    }
}

contract ContractB  {

    RevertReason rr;
    uint public a = 11;

    constructor(address _t) public {
        rr = RevertReason(_t);
    }

    function buy(uint amount) public {
        rr.buy(amount);
        a = amount;
    }

}

contract ContractA  {

    ContractB cb;
    uint public a = 11;

    constructor(address _t) public {
        cb = ContractB(_t);
    }

    function buy(uint amount) public {
        cb.buy(amount);
        a = amount;
    }

}

end

account_new acc1 20000000

# Deploy RevertReason (address: 6252703f5ba322ec64d3ac45e56241b7d9e481ad)
transaction_build tx01
    sender acc1
    nonce 0
    receiverAddress 00
    value 0
    data 6080604052600b60005534801561001557600080fd5b5061015f806100256000396000f3fe6080604052600436106100295760003560e01c80630dbe671f1461002e578063d96a094a14610059575b600080fd5b34801561003a57600080fd5b5061004361009b565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b81019080803590602001909291905050506100a1565b6040518082815260200191505060405180910390f35b60005481565b6000808211610118576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600f8152602001807f4e656761746976652076616c75652e000000000000000000000000000000000081525060200191505060405180910390fd5b81600081905550600054905091905056fea264697066735822122059b4c86b4cc24c6a58060fc78f3e3bae4bc889144ec64ad30416d58d549e9c9e64736f6c63430006010033
    gas 1000000
    build

# Deploy ContractB (address: 56aa252dd82173789984fa164ee26ce2da9336ff)
# ByteCode: 6080604052600b60015534801561001557600080fd5b506040516102163803806102168339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061017d806100996000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80630dbe671f1461003b578063d96a094a14610059575b600080fd5b610043610087565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b810190808035906020019092919050505061008d565b005b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d96a094a826040518263ffffffff1660e01b815260040180828152602001915050602060405180830381600087803b15801561010157600080fd5b505af1158015610115573d6000803e3d6000fd5b505050506040513d602081101561012b57600080fd5b810190808051906020019092919050505050806001819055505056fea26469706673582212202ea598ad7db9f0f4fd9f2fe977c221997dc15e3bd0bb426c469d882099df084264736f6c63430006010033
# Address RevertReason: 0000000000000000000000006252703f5ba322ec64d3ac45e56241b7d9e481ad
# Data: 6080604052600b60015534801561001557600080fd5b506040516102163803806102168339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061017d806100996000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80630dbe671f1461003b578063d96a094a14610059575b600080fd5b610043610087565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b810190808035906020019092919050505061008d565b005b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d96a094a826040518263ffffffff1660e01b815260040180828152602001915050602060405180830381600087803b15801561010157600080fd5b505af1158015610115573d6000803e3d6000fd5b505050506040513d602081101561012b57600080fd5b810190808051906020019092919050505050806001819055505056fea26469706673582212202ea598ad7db9f0f4fd9f2fe977c221997dc15e3bd0bb426c469d882099df084264736f6c634300060100330000000000000000000000006252703f5ba322ec64d3ac45e56241b7d9e481ad
transaction_build tx02
    sender acc1
    nonce 1
    receiverAddress 00
    value 0
    data 6080604052600b60015534801561001557600080fd5b506040516102163803806102168339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061017d806100996000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80630dbe671f1461003b578063d96a094a14610059575b600080fd5b610043610087565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b810190808035906020019092919050505061008d565b005b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d96a094a826040518263ffffffff1660e01b815260040180828152602001915050602060405180830381600087803b15801561010157600080fd5b505af1158015610115573d6000803e3d6000fd5b505050506040513d602081101561012b57600080fd5b810190808051906020019092919050505050806001819055505056fea26469706673582212202ea598ad7db9f0f4fd9f2fe977c221997dc15e3bd0bb426c469d882099df084264736f6c634300060100330000000000000000000000006252703f5ba322ec64d3ac45e56241b7d9e481ad
    gas 1000000
    build

# Deploy ContractA (address: 27444fbce96cb2d27b94e116d1506d7739c05862)
# ByteCode: 6080604052600b60015534801561001557600080fd5b506040516101f23803806101f28339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610159806100996000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80630dbe671f1461003b578063d96a094a14610059575b600080fd5b610043610087565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b810190808035906020019092919050505061008d565b005b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d96a094a826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561010157600080fd5b505af1158015610115573d6000803e3d6000fd5b50505050806001819055505056fea2646970667358221220e01a719553468e6072c3d9c5b718164b705c2e4550a5168446d6fa86d09dc55d64736f6c63430006010033
# Address ContractB: 00000000000000000000000056aa252dd82173789984fa164ee26ce2da9336ff
# Data: 6080604052600b60015534801561001557600080fd5b506040516101f23803806101f28339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610159806100996000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80630dbe671f1461003b578063d96a094a14610059575b600080fd5b610043610087565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b810190808035906020019092919050505061008d565b005b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d96a094a826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561010157600080fd5b505af1158015610115573d6000803e3d6000fd5b50505050806001819055505056fea2646970667358221220e01a719553468e6072c3d9c5b718164b705c2e4550a5168446d6fa86d09dc55d64736f6c6343000601003300000000000000000000000056aa252dd82173789984fa164ee26ce2da9336ff
transaction_build tx03
    sender acc1
    nonce 2
    receiverAddress 00
    value 0
    data 6080604052600b60015534801561001557600080fd5b506040516101f23803806101f28339818101604052602081101561003857600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610159806100996000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80630dbe671f1461003b578063d96a094a14610059575b600080fd5b610043610087565b6040518082815260200191505060405180910390f35b6100856004803603602081101561006f57600080fd5b810190808035906020019092919050505061008d565b005b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d96a094a826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561010157600080fd5b505af1158015610115573d6000803e3d6000fd5b50505050806001819055505056fea2646970667358221220e01a719553468e6072c3d9c5b718164b705c2e4550a5168446d6fa86d09dc55d64736f6c6343000601003300000000000000000000000056aa252dd82173789984fa164ee26ce2da9336ff
    gas 1000000
    build

block_build b01
    parent g00
    gasLimit 10000000
    transactions tx01 tx02 tx03
    build

block_connect b01

# Assert best block
assert_best b01

# Call ContractA.buy(0)
transaction_build tx04
    sender acc1
    nonce 3
    receiverAddress 27444fbce96cb2d27b94e116d1506d7739c05862
    value 0
    data d96a094a0000000000000000000000000000000000000000000000000000000000000000
    gas 500000
    build

block_build b02
    parent b01
    transactions tx04
    gasLimit 10000000
    build

block_connect b02

# Assert best block
assert_best b02

# Call ContractA.buy(2)
transaction_build tx05
    sender acc1
    nonce 4
    receiverAddress 27444fbce96cb2d27b94e116d1506d7739c05862
    value 0
    data d96a094a0000000000000000000000000000000000000000000000000000000000000002
    gas 2000000
    build

block_build b03
    parent b02
    transactions tx05
    gasLimit 10000000
    build

block_connect b03

# Assert best block
assert_best b03


